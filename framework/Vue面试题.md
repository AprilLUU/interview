## Vue面试题

#### 1. Vue3和Vue2的区别

- 使用组合式API，暴露出底层API，相比Vue2选项式API更加灵活，整体开发模式偏向于React Hook开发
- 使用Proxy重写响应式系统，增加代理层取代Object.defineProperty，能够拦截属性新增和删除操作以及数组方法，相比Vue2不允许冗余的API
- DIFF算法优化，增加了Block优化，在编译时标记动态节点，可以跳过静态节点DIFF过程
- 编译器优化，利用闭包对静态节点进行静态提升，返回的render函数不需要每次重新创建新的VNode

- TS重写，更好的TS支持，开发时有更好的类型推断和代码提示

#### 2. 虚拟DOM的作用

虚拟DOM的作用就是减少DOM操作，减少浏览器的回流和重绘，提高性能，虚拟DOM本质上是JS对象组成的树结构，是对DOM的一层抽象，通过对虚拟DOM进行Diff，找出需要更新的最小部分进行更新。

虚拟DOM的另一层作用就是进行跨平台渲染，通过不同平台的渲染器，将虚拟DOM渲染成对应的平台。

#### 3. 虚拟DOM的真实DOM的性能对比

- 理论上，如果在明确知道哪里需要更新的场景下，直接操作DOM比引入虚拟DOM的效率更高，因为虚拟DOM需要有额外的内存消耗和Diff的消耗
- 实际上，当界面过于复杂时，准确找到需要更新的部分进行DOM操作并不容易，虚拟DOM提供了自动化的的方式，找到最小变更的部分进行高效更新。通过引入虚拟DOM，框架允许开发者以声明式的方式来描述UI，增加了代码的可读性和可维护性。

#### 4. computed和watch的区别

- computed不适合异步操作，value值取决于依赖，依赖发生更新时，value值是一个同步求值的过程，如果采取异步操作，可能获取到错误的value值，导致界面更新错误，因此不适合异步操作
- watch更加适合异步操作

#### 5. vue中data是函数还是对象，什么时候可以成为一个对象

- data是一个函数，需要每次返回新的值，避免多组件实例共享同一份数据，造成状态污染
- 在Vue2中，new Vue时可以传入一个对象，因为根组件是单例模式，只有一个实例存在